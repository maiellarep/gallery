{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\internship\\\\new\\\\gallery\\\\src\\\\AddImg.js\";\nimport React from 'react';\nimport './css/common.css';\nimport IndexedDbRepository from './IndexedRepository';\nimport Menu from './Menu';\nimport './css/Buttons.css';\n\nclass AddImg extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.state = {\n      name: '',\n      format: 'Альбом',\n      description: '',\n      size: '',\n      weight: '',\n      mimetype: '',\n      image: '',\n      collection: 'Другое',\n      // tasks:null,\n      colList: []\n    };\n\n    this.handleAdd = async () => {\n      var date = new Date();\n      var day = date.getDate();\n      var month = date.getMonth() + 1;\n      var year = date.getFullYear();\n      await this.repository.save('photos', {\n        image: this.state.image,\n        name: this.state.name,\n        description: this.state.description,\n        format: this.state.format,\n        date: day + '.' + month + '.' + year,\n        mimetype: this.state.mimetype,\n        weight: this.state.weight,\n        size: this.state.size,\n        collection: this.state.collection\n      }); //this.setState( { tasks: null } );\n      // this.setState( { tasks: await this.repository.findAll('photos') } );\n\n      console.log(this.state.tasks);\n    };\n  }\n\n  componentDidMount() {\n    this.repository = new IndexedDbRepository(); //this.repository.findAll('photos').then( tasks => this.setState( { tasks } ) );\n\n    this.repository.findAll('collections').then(colList => this.setState({\n      colList\n    }));\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleImageChange(e) {\n    var file = e.target.files[0];\n    this.setState({\n      mimetype: '.' + file.type.split('/')[1],\n      weight: (file.size / 1024 / 1024).toFixed(2) + \" МБ\"\n    });\n    var reader = new FileReader();\n    var preview = document.getElementById(\"preview\");\n    reader.readAsBinaryString(file);\n\n    reader.onload = function (e) {\n      let bits = e.target.result;\n      preview.src = 'data:image/jpeg;base64,' + btoa(bits);\n      var img = new Image();\n      img.src = 'data:image/jpeg;base64,' + btoa(bits);\n\n      img.onload = () => {\n        var size = img.height + \"х\" + img.width + \" px\";\n        this.setState({\n          image: bits,\n          size: size\n        });\n      };\n    }.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0439 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0438\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imgcontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"preview\",\n      id: \"preview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"input\",\n      type: \"file\",\n      name: \"image\",\n      onChange: this.handleImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 96\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"input\",\n      id: \"name\",\n      class: \"input_1\",\n      name: \"name\",\n      type: \"text\",\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0438\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 160\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"\\u041A\\u043E\\u043B\\u043B\\u0435\\u043A\\u0446\\u0438\\u044F \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"format\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u0410\\u043B\\u044C\\u0431\\u043E\\u043C\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"\\u0410\\u043B\\u044C\\u0431\\u043E\\u043C\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u041F\\u043E\\u0440\\u0442\\u0440\\u0435\\u0442\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, \"\\u041F\\u043E\\u0440\\u0442\\u0440\\u0435\\u0442\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u041A\\u0432\\u0430\\u0434\\u0440\\u0430\\u0442\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"\\u041A\\u0432\\u0430\\u0434\\u0440\\u0430\\u0442\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"description\",\n      class: \"input_1\",\n      name: \"description\",\n      type: \"text\",\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0438...\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"collection\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\"), this.state.colList.map(item => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        value: item.colName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }, item.colName);\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button\",\n      type: \"button\",\n      onClick: this.handleAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")));\n  }\n\n}\n\nexport default AddImg;","map":{"version":3,"sources":["C:/Users/User/Desktop/internship/new/gallery/src/AddImg.js"],"names":["React","IndexedDbRepository","Menu","AddImg","Component","constructor","props","handleChange","bind","handleImageChange","state","name","format","description","size","weight","mimetype","image","collection","colList","handleAdd","date","Date","day","getDate","month","getMonth","year","getFullYear","repository","save","console","log","tasks","componentDidMount","findAll","then","setState","e","target","value","file","files","type","split","toFixed","reader","FileReader","preview","document","getElementById","readAsBinaryString","onload","bits","result","src","btoa","img","Image","height","width","render","map","item","colName"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './css/common.css';\r\nimport IndexedDbRepository from './IndexedRepository';\r\nimport Menu from './Menu';\r\nimport './css/Buttons.css';\r\n\r\nclass AddImg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.state = {\r\n            name: '',\r\n            format: 'Альбом',\r\n            description: '', \r\n            size: '',\r\n            weight: '',\r\n            mimetype: '',\r\n            image: '',\r\n            collection: 'Другое',\r\n           // tasks:null,\r\n            colList: []\r\n        }\r\n\r\n        this.handleAdd = async() => {\r\n            var date = new Date();\r\n            var day = date.getDate();\r\n            var month = date.getMonth()+1;\r\n            var year = date.getFullYear();\r\n\r\n            await this.repository.save( 'photos', { image: this.state.image, \r\n                                            name: this.state.name, \r\n                                            description: this.state.description, \r\n                                            format: this.state.format,\r\n                                            date: day + '.' + month + '.' + year,\r\n                                            mimetype: this.state.mimetype,\r\n                                            weight: this.state.weight,\r\n                                            size: this.state.size,\r\n                                            collection: this.state.collection}\r\n                                             );\r\n            //this.setState( { tasks: null } );\r\n           // this.setState( { tasks: await this.repository.findAll('photos') } );\r\n            console.log(this.state.tasks);\r\n          };\r\n    }\r\n    componentDidMount() {\r\n       \r\n        this.repository = new IndexedDbRepository();\r\n        //this.repository.findAll('photos').then( tasks => this.setState( { tasks } ) );\r\n        this.repository.findAll('collections'). then( colList => this.setState( { colList } ) );\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    handleImageChange(e) {\r\n        var file = e.target.files[0];\r\n        this.setState({\r\n            mimetype: '.' + file.type.split('/')[1],\r\n            weight: (file.size/1024/1024).toFixed(2) + \" МБ\"\r\n        });\r\n        var reader = new FileReader();\r\n        var preview = document.getElementById(\"preview\");\r\n        reader.readAsBinaryString(file);\r\n        \r\n\t\t\t\treader.onload = function(e) {\r\n                    let bits = e.target.result;\r\n                    preview.src = 'data:image/jpeg;base64,' + btoa(bits);\r\n                    var img = new Image();\r\n                    img.src = 'data:image/jpeg;base64,' + btoa(bits);\r\n                    img.onload = () => {\r\n                        \r\n                    var size = img.height + \"х\" + img.width + \" px\";\r\n                        this.setState({\r\n                            image: bits,\r\n                            size: size\r\n                        });\r\n                    }\r\n                    \r\n                }.bind(this);\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div class = \"container\">\r\n            <div class = \"header\"> \r\n                <h1>Добавление новой картинки</h1>\r\n\r\n            </div>\r\n                <div class = \"imgcontent\">\r\n                <img class = \"preview\" id=\"preview\"/><br/>\r\n            <input class = \"input\" type=\"file\" name=\"image\" onChange={this.handleImageChange}/><br/>\r\n            <input class = \"input\" id=\"name\" class=\"input_1\" name=\"name\" type=\"text\"  placeholder = \"Название картинки\" onChange={this.handleChange} required/><br/>\r\n            <label>Коллекция </label>\r\n            <select name=\"format\" onChange={this.handleChange}>\r\n                <option value=\"Альбом\">Альбом</option>\r\n                <option value=\"Портрет\">Портрет</option>\r\n                <option value=\"Квадрат\">Квадрат</option>\r\n            </select><br/>\r\n            <textarea id=\"description\" class=\"input_1\" name=\"description\" type=\"text\" placeholder = \"Введите описание картинки...\" onChange={this.handleChange}>\r\n                \r\n            </textarea><br/>\r\n\r\n            {/*<input id=\"collection\" class=\"input_1\" name=\"collection\" type=\"text\" value={this.state.collection} onChange={this.handleChange} required/><br/>*/}\r\n            <select name=\"collection\" onChange={this.handleChange}>\r\n                <option value=\"Другое\">Другое</option>\r\n                {\r\n                    this.state.colList.map((item) => {\r\n                        return(\r\n                            <option value={item.colName}>{item.colName}</option>\r\n                        );\r\n                    })\r\n                }\r\n            </select><br/>\r\n            <button class = \"button\" type=\"button\" onClick={this.handleAdd}>Добавить</button>\r\n                </div>\r\n            \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AddImg;"]},"metadata":{},"sourceType":"module"}