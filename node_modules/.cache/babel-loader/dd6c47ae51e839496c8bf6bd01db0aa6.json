{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\internship\\\\gallery\\\\src\\\\AddImg.js\";\nimport React from 'react';\nimport './css/CollectionsPage.css';\nimport IndexedDbRepository from './IndexedRepository';\n\nclass AddImg extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      name: 'rgergev',\n      format: 'ergerger',\n      description: 'bsdfbdfbs',\n      size: '',\n      weight: '',\n      mimetype: '',\n      date: '',\n      image: '',\n      tasks: null\n    };\n\n    this.handleAdd = async () => {\n      await this.repository.save({\n        name: this.state.name,\n        description: this.state.description\n      });\n      this.setState({\n        tasks: null\n      });\n      this.setState({\n        tasks: await this.repository.findAll()\n      });\n      console.log(this.state.tasks);\n    };\n\n    this.handleDelete = async idToDelete => {\n      alert(idToDelete);\n      await this.repository.deleteById(idToDelete);\n      this.setState({\n        tasks: null\n      });\n      this.setState({\n        tasks: await this.repository.findAll()\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.repository = new IndexedDbRepository('name');\n    this.repository.findAll().then(tasks => this.setState({\n      tasks\n    }));\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"image\",\n      name: \"image\",\n      onChange: this.Change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default AddImg;","map":{"version":3,"sources":["C:/Users/User/Desktop/internship/gallery/src/AddImg.js"],"names":["React","IndexedDbRepository","AddImg","Component","constructor","props","handleChange","bind","state","name","format","description","size","weight","mimetype","date","image","tasks","handleAdd","repository","save","setState","findAll","console","log","handleDelete","idToDelete","alert","deleteById","componentDidMount","then","e","target","value","handleImageChange","preventDefault","reader","FileReader","file","files","onloadend","imagePreviewUrl","result","readAsDataURL","render","Change"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './css/CollectionsPage.css';\r\nimport IndexedDbRepository from './IndexedRepository';\r\n\r\nclass AddImg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.state = {\r\n            name: 'rgergev',\r\n            format: 'ergerger',\r\n            description: 'bsdfbdfbs', \r\n            size: '',\r\n            weight: '',\r\n            mimetype: '',\r\n            date: '',\r\n            image: '',\r\n            tasks:null\r\n        }\r\n\r\n        this.handleAdd = async() => {\r\n            await this.repository.save( { name: this.state.name, description: this.state.description} );\r\n            this.setState( { tasks: null } );\r\n            this.setState( { tasks: await this.repository.findAll() } );\r\n            console.log(this.state.tasks);\r\n          };\r\n          this.handleDelete = async( idToDelete ) => {\r\n              alert(idToDelete);\r\n            await this.repository.deleteById( idToDelete );\r\n            this.setState( { tasks: null } );\r\n            this.setState( { tasks: await this.repository.findAll() } );\r\n          };\r\n    }\r\n    componentDidMount() {\r\n       \r\n        this.repository = new IndexedDbRepository( 'name' );\r\n        this.repository.findAll().then( tasks => this.setState( { tasks } ) );\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    handleImageChange(e) {\r\n        e.preventDefault();\r\n\r\n        let reader = new FileReader();\r\n        let file = e.target.files[0];\r\n\r\n        reader.onloadend = () => {\r\n        this.setState({\r\n            file: file,\r\n            imagePreviewUrl: reader.result\r\n        });\r\n        }\r\n\r\n        reader.readAsDataURL(file)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n            <h1>Добавление</h1>\r\n            <input type=\"image\" name=\"image\" onChange={this.Change}/>\r\n                {/*<h1>BDFBFSBS</h1>\r\n                <button type=\"button\" onClick={this.add}>fbfdbds</button>\r\n                <label>Заголовок</label><br/>\r\n          <input id=\"name\" class=\"input_1\" name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} required/><br/>\r\n          <label>Описание</label><br/>\r\n          <input id=\"description\" class=\"input_1\" name=\"description\" type=\"text\" value={this.state.description} onChange={this.handleChange} required/><br/>\r\n          <label>Текст</label><br/>\r\n          <button type=\"button\" class=\"btn green\" onClick={this.handleAdd}>Добавить</button>\r\n                <button type=\"button\" class=\"btn green\" onClick={() => this.handleDelete(2268)}>Удалить</button>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AddImg;"]},"metadata":{},"sourceType":"module"}